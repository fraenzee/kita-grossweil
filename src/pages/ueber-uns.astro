---
// Importiere das Basis-Layout
import BaseLayout from '../layouts/BaseLayout.astro';
// Importiere die Funktion zum Abrufen von Inhalten aus der "pages"-Sammlung
import { getCollection } from 'astro:content';

// Lade den Inhalt der "Über uns"-Seite aus der Markdown-Datei
const pages = await getCollection('pages');
const aboutPage = pages.find(page => page.slug === 'ueber-uns'); // Finde die "ueber-uns.md" Seite

// Stelle sicher, dass die Seite gefunden wurde, sonst leite um oder zeige Fehler
if (!aboutPage) {
  return Astro.redirect('/404'); // Oder eine andere Fehlerbehandlung
}

// Extrahiere den gerenderten Inhalt
const { Content } = await aboutPage.render();
---
<BaseLayout title={aboutPage.data.title}>
    <section class="bg-white rounded-lg shadow-lg p-8 mb-8">
        <h2 class="text-4xl font-semibold text-gray-800 mb-4">{aboutPage.data.title}</h2>
        <div class="text-gray-700 text-lg leading-relaxed mb-6">
            <Content /> <!-- Hier wird der Inhalt aus der Markdown-Datei eingefügt -->
        </div>

        <!-- Beispiel Teammitglieder (Diese bleiben vorerst hier, bis wir eine dynamische Lösung über das CMS haben) -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-8">
            <div class="bg-gray-50 p-6 rounded-lg shadow-md text-center">
                <img src="https://placehold.co/150x150/eeeeee/333333?text=Foto" alt="Teammitglied Foto" class="rounded-full mx-auto mb-4">
                <h3 class="text-xl font-semibold text-gray-800">Frau Maria Sanner</h3>
                <p class="text-gray-600">Leitung</p>
                <p class="text-gray-500 text-sm mt-2">Seit 20XX bei uns</p>
            </div>
            <div class="bg-gray-50 p-6 rounded-lg shadow-md text-center">
                <img src="https://placehold.co/150x150/eeeeee/333333?text=Foto" alt="Teammitglied Foto" class="rounded-full mx-auto mb-4">
                <h3 class="text-xl font-semibold text-gray-800">Max Mustermann</h3>
                <p class="text-gray-600">Erzieher</p>
                <p class="text-gray-500 text-sm mt-2">Spezialgebiet: Naturpädagogik</p>
            </div>
            <div class="bg-gray-50 p-6 rounded-lg shadow-md text-center">
                <img src="https://placehold.co/150x150/eeeeee/333333?text=Foto" alt="Teammitglied Foto" class="rounded-full mx-auto mb-4">
                <h3 class="text-xl font-semibold text-gray-800">Erika Musterfrau</h3>
                <p class="text-gray-600">Kinderpflegerin</p>
                <p class="text-gray-500 text-sm mt-2">Spezialgebiet: Kreativität</p>
            </div>
        </div>
    </section>
</BaseLayout>
