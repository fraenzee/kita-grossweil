---
// Importiere das Basis-Layout
import BaseLayout from '../layouts/BaseLayout.astro';
// Importiere die Funktion zum Abrufen von Inhalten aus der "pages"-Sammlung
import { getCollection } from 'astro:content';

// Lade den Inhalt der "Kontakt"-Seite aus der Markdown-Datei
const pages = await getCollection('pages');
const contactPage = pages.find(page => page.slug === 'kontakt'); // Finde die "kontakt.md" Seite

// Stelle sicher, dass die Seite gefunden wurde, sonst leite um oder zeige Fehler
if (!contactPage) {
  return Astro.redirect('/404'); // Oder eine andere Fehlerbehandlung
}

// Extrahiere den gerenderten Inhalt
const { Content } = await contactPage.render();
---
<BaseLayout title={contactPage.data.title}>
    <section class="bg-white rounded-lg shadow-lg p-8 mb-8">
        <h2 class="text-4xl font-semibold text-gray-800 mb-4">{contactPage.data.title}</h2>
        <div class="text-gray-700 text-lg leading-relaxed mb-6">
            <Content /> <!-- Hier wird der Inhalt aus der Markdown-Datei eingefügt -->
        </div>

        <!-- Kontaktformular (Platzhalter) - bleibt hier als HTML, da es nicht Teil des Markdown-Inhalts ist -->
        <div class="mt-12 bg-gray-50 p-8 rounded-lg shadow-md">
            <h3 class="text-2xl font-semibold text-gray-800 mb-4">Senden Sie uns eine Nachricht</h3>
            <form>
                <div class="mb-4">
                    <label for="name" class="block text-gray-700 text-sm font-bold mb-2">Ihr Name:</label>
                    <input type="text" id="name" name="name" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" placeholder="Max Mustermann">
                </div>
                <div class="mb-4">
                    <label for="email" class="block text-gray-700 text-sm font-bold mb-2">Ihre E-Mail:</label>
                    <input type="email" id="email" name="email" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" placeholder="name@beispiel.de">
                </div>
                <div class="mb-6">
                    <label for="message" class="block text-gray-700 text-sm font-bold mb-2">Ihre Nachricht:</label>
                    <textarea id="message" name="message" rows="5" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" placeholder="Ihre Nachricht an uns..."></textarea>
                </div>
                <div class="flex items-center justify-between">
                    <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full focus:outline-none focus:shadow-outline">
                        Nachricht senden
                    </button>
                </div>
            </form>
            <p class="text-gray-600 text-sm mt-4">
                Hinweis: Dies ist ein Platzhalter für ein Kontaktformular. Für eine funktionierende Version ist serverseitiger Code erforderlich. Alternativ können Sie direkt die oben genannte E-Mail-Adresse nutzen.
            </p>
        </div>
    </section>
</BaseLayout>
