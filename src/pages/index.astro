---
//to dos:
// SEO check/changes: meta tags, canonical, sitemaps, robots.txt, ...
      // robots.txt: https://app.langdock.com/chat/4725e8ff-7351-4439-839e-0fe1b28e5e24
// implement error handling and 404 page       --> done, custom 404 page created
// fix heading etc. colors among all pages to be consistent  --> done
// add structured data                         
      // --> breadcrumbs added correctly
      //  add organization data -> in progress
      //  add local business data -> in progress
      //  add webpage data -> in progress
      //  --> check how to improve here https://app.langdock.com/chat/e782773f-bf06-4900-84d1-cd29005a38c9
      //
      //  add person data (for team members page)
// add more content to pages (paedagogik, anmeldung-kosten, aktuelles, galerie, kontakt)  --> in progress
// add team members page with dynamic content from CMS
// check how to add search action schema
// add FAQ page
// add Eltern & Kinder testimonials/reviews    --> done, Layout könnte noch verbessert werden
// add contact form
// integrate newsletter signup for regular updates
// add analytics -- GSC, GA4
// add social media cards
// add favicons
// add loading indicators for images
// add alt text for all images
// !!!! optimize images (responsive, modern formats, compression)
// implement lazy loading for images and videos
// accessibility check
// performance check
// implement caching strategies
// ...

// Importiere das Basis-Layout
import BaseLayout from "../layouts/BaseLayout.astro";
import {organizationSchema, webSiteSchema, localBusinessSchema} from "../schema/homeSchema.js";
const schema = [organizationSchema, webSiteSchema, localBusinessSchema];

// Importiere die Funktion zum Abrufen von Inhalten aus der "pages"-Sammlung
import { getCollection } from 'astro:content';
import Card from '../components/Card.astro';
import Testimonial from '../components/Testimonial.astro';

const testimonials = [
  {
    reviewerImage: '/bilder/testimonial-mama-mit-sohn.png',
    reviewerQuote: 'Die Kita St. Georg Großweil ist ein wunderbarer Ort für Kinder. Mein Sohn liebt es hier zu sein und ich schätze die liebevolle Betreuung und das engagierte Team sehr.',
    reviewerName: 'Anna M.',
    reviewerNameDescription: 'Mutter eines 5-jährigen Jungen',
  },
  {
    reviewerImage: '/bilder/maedchen-mit-koerperfarbe.avif',
    reviewerQuote: 'Die Farben in der Kita sind toll! Ich mag besonders den bunten Teppich und die rosa Spielsachen. Meine Freunde und ich haben hier immer viel Spaß!',
    reviewerName: 'Lena F.',
    reviewerNameDescription: '4 Jahre alt',
  },
  {
    reviewerImage: '/bilder/testimonial-papa-mit-tochter.png',
    reviewerQuote: 'Als Vater bin ich beeindruckt von der pädagogischen Arbeit in der Kita. Mein Kind hat sich hier toll entwickelt und ich fühle mich als Elternteil gut informiert und eingebunden.',
    reviewerName: 'Thomas K.',
    reviewerNameDescription: 'Vater eines 2-jährigen Mädchens',
  },
  {
    reviewerImage: '/bilder/laechelndes-maedchen.avif',
    reviewerQuote: 'Ich mag die Kita, weil ich hier so viele Freunde habe und wir zusammen spielen können. Die Erzieher sind auch sehr nett und helfen uns immer.',
    reviewerName: 'Mia T.',
    reviewerNameDescription: '4 Jahre alt',
  },
  {
    reviewerImage: '/bilder/testimonial-familie-mit-drei-kindern.png',
    reviewerQuote: 'Unsere Familie ist sehr zufrieden mit der Kita St. Georg Großweil. Die Atmosphäre ist herzlich und die Kinder werden individuell gefördert. Wir können die Einrichtung nur empfehlen!',
    reviewerName: 'Sabine & Markus L.',
    reviewerNameDescription: 'Eltern von drei Kindern im Alter von 2, 4 und 6 Jahren',
  },
  {
    reviewerImage: '/bilder/drei-herbstblaetter-auf-der-hand.avif',
    reviewerQuote: 'Schaut mal, wie bunt die Blätter sind! In der Kita haben wir gelernt, wie die Natur im Herbst aussieht. Ich mag es, draußen zu spielen und die Blätter zu sammeln.',
    reviewerName: 'Lukas R.',
    reviewerNameDescription: '5 Jahre alt',
  },
  {
    reviewerImage: '/bilder/testimonial-papa-mit-zwei-kindern.png',
    reviewerQuote: 'Meine zwei Kinder gehen gerne in die Kita St. Georg Großweil. Die abwechslungsreichen Aktivitäten und die liebevolle Betreuung machen den Unterschied. Wir sind sehr dankbar für das tolle Team!',
    reviewerName: 'Daniel S.',
    reviewerNameDescription: 'Vater von zwei Kindern im Alter von 2 und 5 Jahren',
  },
  {
    reviewerImage: '/bilder/kinder-mit-gummistiefeln-im-matsch.avif',
    reviewerQuote: 'Guckt mal, wie toll der Matsch ist! In der Kita spielen wir oft draußen und ich liebe es, mit meinen Freunden im Matsch zu springen und zu lachen.',
    reviewerName: 'Emma S.',
    reviewerNameDescription: '4 Jahre alt, mit ihren Freunden im Matsch',
  },
];

const cards = [
  { image: '/bilder/baukloetze-stapeln.avif', 
    title: 'Unser Konzept', 
    description: 'Erfahren Sie mehr über unsere pädagogischen Schwerpunkte und Werte.',
    buttonText: 'Zum Konzept',
    buttonLink: '/paedagogik/',},
  { image: '/bilder/kleines-maedchen-haelt-teddybaeren-auf-dem-arm.avif', 
    title: 'Anmeldung', 
    description: 'Alle Informationen zur Anmeldung und den Elternbeiträgen.' ,
    buttonText: 'Anmelde-Infos',
    buttonLink: '/anmeldung-kosten/',},
  { image: '/bilder/basteln-mit-steinen.avif', 
    title: 'Aktuelles', 
    description: 'Bleiben Sie auf dem Laufenden über Termine und Veranstaltungen.',
    buttonText: 'Zu den News',
    buttonLink: '/aktuelles/', },
  { image: '/bilder/kinder-in-spiderman-und-captain-america-kostuemen-zum-fasching.avif', 
    title: 'Bildergalerie', 
    description: 'Eindrücke aus unserem Kindergartenalltag und von besonderen Ereignissen.',
    buttonText: 'Galerie ansehen',
    buttonLink: '/galerie/', },
];

import Carousel from '../components/Carousel.astro';

const slides = [
  '/bilder/kitagruppe-macht-ausflug.avif',
  '/bilder/kita-draussen-spielen.avif',
  '/bilder/kleiner-junge-malt-mit-wachsstiften.avif',
  '/bilder/kleinkind-haelt-hand-in-pfuetze.avif',
  '/bilder/person-schaukelt.avif',
];

// Lade den Inhalt der Startseite aus der Markdown-Datei
const pages = await getCollection('pages');
const homepage = pages.find(page => page.slug === 'index'); // Finde die "index.md" Seite

// Stelle sicher, dass die Seite gefunden wurde, sonst leite um oder zeige Fehler
if (!homepage) {
  return Astro.redirect('/404'); // Oder eine andere Fehlerbehandlung
}

// Extrahiere den gerenderten Inhalt
const { Content } = await homepage.render();

// adjust laster to be an indexed page
---
<BaseLayout title="Startseite"
  description="Willkommen in der Kita St. Georg in Großweil - Krippe und Kindergarten."
  robots="noindex, follow"
  schema={schema}>
    <section>
        <h1 class="leading-snug">{homepage.data.title}</h1>
        <p>{homepage.data.subtitle}</p>
        <div class="mb-12">
            <!-- Carousel-Komponente einbinden -->
            <Carousel slides={slides} />
        </div>

        <div
          class="block rounded-lg bg-white text-surface shadow-secondary-1 dark:bg-surface-dark dark:text-white">
          <!-- <div
            class="border-b-2 border-neutral-100 px-6 py-3 dark:border-white/10">
            Quote
          </div> -->
          <div class="p-6 m-6 border-l-4 border-brand-primary bg-brand-surface/50 rounded-r-xl">
            <blockquote>
              <p class="text-2xl font-patrick italic">
                Was du mir sagst, das vergesse ich. Was du mir zeigst, daran erinnere ich mich. Was du mich tun lässt, das verstehe ich.
              </p>
            </blockquote>
            <figcaption class="text-md text-neutral-500">
              - Konfuzius
              <!-- in <cite title="Source Title">Source Title</cite> -->
            </figcaption>
          </div>
        </div>

        <h2 class="mb-8">Hier können Sie uns kennenlernen:</h2>

        <div class="grid gap-4 
            grid-cols-1 
            sm:grid-cols-2 
            md:grid-cols-2 
            xl:grid-cols-4 mb-12">
          {cards.map(card => <Card {...card} />)}
        </div>
        <div>
            <Content /> <!-- Hier wird der Inhalt aus der Markdown-Datei eingefügt -->
        </div>
        <div class="gap-4 flex justify-center mt-6">
            <button class="btn btn-primary border-2 border-brand-primary hover:border-brand-secondary rounded-full transition duration-200 ease-in-out transform hover:scale-105">
                <a href="/ueber-uns/">Über uns</a>
            </button>
            <button class="btn btn-secondary rounded-full border-2 border-brand-primary transition duration-200 ease-in-out transform hover:scale-105">
                Rundgang vereinbaren
            </button>
        </div>

        <div class="text-center mt-12">
            <h2 class="mb-6">Das sagen unsere Kinder und Eltern über uns:</h2>

            <div class="grid gap-6 
                grid-cols-1 
                sm:grid-cols-1 
                md:grid-cols-2 
                lg:grid-cols-3
                xl:grid-cols-4">
              {testimonials.map(testimonial => <Testimonial {...testimonial} />)}
            </div>
        </div>

        

        <div
          class="block rounded-lg bg-white text-surface shadow-secondary-1 dark:bg-surface-dark dark:text-white pt-6">
          <!-- <div
            class="border-b-2 border-neutral-100 px-6 py-3 dark:border-white/10">
            Quote
          </div> -->
          <div class="p-6 m-6 border-l-4 border-brand-primary bg-brand-surface rounded-r-xl">
            <blockquote>
              <p class="text-2xl font-patrick italic mb-0">
                ...und am Ende eines Tages sollen deine Füße dreckig, dein Haar zerzaust und deine Augen leuchtend sein.
              </p>
            </blockquote>
          </div>
        </div>


    </section>

<!-- Hero-Sektion mit abgerundetem Bild und Call-to-Action -->
<!-- <section class="relative flex items-center justify-center h-[70vh] rounded-3xl overflow-hidden mx-4 md:mx-16"> -->
  <!-- Hintergrundbild -->
  <!-- <img 
    src="/bilder/kleinkinder-spielen-buchstabenwuerfel.avif" 
    alt="Kinder mit Gummistiefeln im Matsch" 
    class="absolute inset-0 w-full h-full object-cover"
  /> -->

  <!-- Halbtransparenter Kasten unter dem Text -->
  <!-- <div class="relative bg-adobelightblue/80 backdrop-blur-sm p-8 rounded-2xl text-center max-w-2xl shadow-lg z-10">
    <h1 class="text-4xl md:text-5xl font-bold text-adobedarkblue mb-4">
      Willkommen in der Kita Großweil!
    </h1>
    <p class="text-lg md:text-xl text-adobeblack mb-8">
      Ein Ort zum Spielen, Lernen und Wachsen – von der Krippe bis zur Einschulung.
    </p>
    <div class="flex flex-col sm:flex-row justify-center gap-4">
      <a 
        href="/anmeldung-kosten/" 
        class="bg-adobepink text-adobewhite font-semibold py-3 px-6 rounded-full shadow hover:bg-adobeyellow hover:text-adobedarkblue transition-colors duration-300"
      >
        Jetzt anmelden →
      </a>
      <a 
        href="/paedagogik/" 
        class="bg-transparent border-2 border-adobepink text-adobepink font-semibold py-3 px-6 rounded-full hover:bg-adobepink hover:text-adobewhite transition-colors duration-300"
      >
        Konzept kennenlernen
      </a>
    </div>
  </div>
</section> -->



<!-- <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Kita St. Georg Großweil",
  "description": "Kindergarten & Krippe St. Georg in Großweil - Ein Ort zum Spielen, Lernen und Wachsen für Kinder von der Krippe bis zur Einschulung.",
  "url": "https://kita-grossweil.netlify.app/",
  "logo": "/st-georg-kita-ritter-babydrache-favicon.png",
  "sameAs": [
    "https://www.instagram.com/kindertagesstaettegrossweil/"
  ],
  "contactPoint": [{
    "@type": "ContactPoint",
    "telephone": "+49-8851-7173",
    "contactType": "customer service",
    "areaServed": "DE",
    "availableLanguage": ["de"]
  }]
}
</script>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ChildCare",
  "name": "Kita St. Georg Großweil",
  "url": "https://kita-grossweil.netlify.app/",
  "image": "https://kita-grossweil.netlify.app/kita-st-georg-großweil-foto.jpg",
  "telephone": "+49-8851-7173",
  "email": "kindergarten@grossweil.de",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "Am Bad 6",
    "postalCode": "82439",
    "addressLocality": "Großweil",
    "addressRegion": "BY",
    "addressCountry": "DE"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": 47.67729821285803,
    "longitude": 11.299274726710639
  },
  "openingHoursSpecification": [
    {
      "@type": "OpeningHoursSpecification",
      "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
      "opens": "07:15",
      "closes": "15:30"
    }
  ],
  "priceRange": "€€",
  "parentOrganization": {
    "@type": "Organization",
    "name": "Gemeinde Großweil",
    "url": "https://www.grossweil.de/",
    "logo": "https://grossweil.de/wp-content/uploads/2020/07/favicon.png",
    "sameAs": [
      "https://www.facebook.com/grossweil.de",
      "https://de.wikipedia.org/wiki/Gro%C3%9Fweil"
    ],
    "contactPoint": [{
      "@type": "ContactPoint",
      "contactType": "customer service",
      "telephone": "+49-8851-1210",
      "areaServed": "DE",
      "availableLanguage": ["de"]
    }]
  }
}
</script>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Kita Großweil",
  "url": "https://kita-grossweil.netlify.app/",
  "inLanguage": "de",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://kita-grossweil.netlify.app/suche/?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script> -->



</BaseLayout>